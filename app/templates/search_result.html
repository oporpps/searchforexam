{% extends 'layout/default.html' %}

{% block title %}
    Search Result
{% endblock %}

{% block content %}
<div class="card text-center">
    <div class="card-header">
        Search Result for: {{ search_query }}
    </div>
    <div id="output">
        <ul>
            {% for item in search_result %}
                {% set highlighted_item = item.replace(search_query, '<span style="background-color: yellow;">' + search_query + '</span>') %}
                <li>{{ highlighted_item | safe }}</li>
            {% endfor %}
        </ul>
    </div>
    <div class="card-body">
        <form action="/search" method="post">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="Search" aria-label="Search" name="search_query" value="{{ search_query }}" required>
                <div class="input-group-append">
                    <button class="btn btn-outline-secondary" type="submit">Search</button>
                </div>
            </div>
        </form>
    </div>
    <div class="card-footer text-body-secondary">
    </div>
</div>

<script>
    document.addEventListener('keydown', function(event) {
        if (event.key === "F3") {
            event.preventDefault();
            var searchQuery = "{{ search_query }}";
            if (searchQuery) {
                window.location.href = "/search?search_query=" + searchQuery;
            }
        }
    });
</script>
{% endblock %}
