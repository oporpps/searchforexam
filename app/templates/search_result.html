{% extends 'layout/default.html' %}

{% block title %}
    Search Result
{% endblock %}

{% block content %}
<div class="card text-center">
    <div class="card-header">
        Search Result for: {{ search_query }}
    </div>
    <div id="output">
        <ul>
            {% for item in search_result %}
                {% set highlighted_item = item.replace(search_query, '<span style="background-color: yellow;">' + search_query + '</span>') %}
                <li>{{ highlighted_item | safe }}</li>
            {% endfor %}
        </ul>
    </div>
    <div class="card-footer text-body-secondary">
    </div>
</div>

<script>
    document.addEventListener('keydown', function(event) {
        if (event.key === "F3") {
            event.preventDefault();
            var searchQuery = "{{ search_query }}";
            if (searchQuery) {
                window.location.href = "/search?search_query=" + searchQuery;
            }
        }
    });
</script>
{% endblock %}
